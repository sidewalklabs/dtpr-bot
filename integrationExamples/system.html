<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
  <a href='../index.html'>Back to the homepage</a>
  <div id="chat-client">
    <!-- injected configured chat client -->
  </div>
  <script>
    // intial configuration of the conversation
    const chatConfig = {
      agentId: 'a6bbe102-08c2-4ab0-8902-09fedf363283', // this is the dialog-flow id for the specific agent which should handle the requests
      startingIntent: 'learn-about-component', // the intent that the conversation will start on - also persisted under the originalIntent
      placeId: 'recHJJkuqk0AYjHa9', // the place that the system or component is in - id corresponds to DTPR Airtable place id
      componentId: 'reciDb69UCJ80rSZw' // Airtable components id of the sustainability system
    };
    // Element is injected dynamically to allow chatConfig to be written into the chat client on start up
    // We make use of the user-id string which is passed to the Dialog-Flow fulfillment code to transport
    // a JSON formatted string of configuration information
    document.getElementById('chat-client').innerHTML = `<df-messenger
        user-id=${JSON.stringify(chatConfig)}
        expand=true
        intent="WELCOME"
        chat-title="swl-dtpr-places-bot"
        agent-id=${chatConfig.agentId}
        language-code="en">
      </df-messenger>`;
  </script>
</body>

</html>
